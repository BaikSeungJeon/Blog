## TIL 2022 10 27

### 쿠키 vs 세션 vs 웹 스토리지

#### 쿠키

<img width="582" alt="image" src="https://user-images.githubusercontent.com/85447054/198184464-d932b72a-1c75-4258-a17b-49dd344148e4.png">

쿠키는 위의 그림과 같은 흐름으로 사용됩니다. 쿠키를 사용하는 이유는 HTTP 요청은 상태를 가지고 있지 않기 때문인데요.(Stateless) 다시 말해 브라우저에서는 서버에 요청을 보낼 때 그 요청 자체로는
그 요청이 누구에게서 오는지 알 수가 없는데 쿠키에 정보를 담아서 보낸다면 서버는 쿠키를 통해 파악할 수 있게된다. 이전에는 쇼핑몰에서 로그인을 해야만 장바구니 정보가 저장되었다면, 요즘 쇼핑몰을 보면 비로그인 상태에서도 일정기간 쿠키를 통해 정보를 유지할 수 있게 되었다. 쿠키는 주로 세션 관리를 통해 로그인, 접속시간 장바구니 등에 활용되기도 하고, 쿠키를 통해 사용자별로 다른 정보를 표시하는 등 개인화가 가능하며, 사용자의 행동과 패턴을 분석할 수 있기 때문에 요즘에는 더 중요한 개념이 되었다.

쿠키를 사용하기 위해서는 Set-Cookie:키=값;옵션를 사용한다. 이것은 서버에서 클라이언트한테 쿠키를 저장하라고 요청하는 것이다. 만약에 Set-Cookie:name=kante면 name이라는 키에 kante라는 값을 저장해서 보내는 것이다. 옵션도 지정하여 보낼 수 있는데 대략 자주 쓰이는 옵션들은 아래와 같다.

#### 세션

- 사용자 정보를 파일 브라우저에 저장하는 쿠키와 달리 세션은 서버 측에서 관리한다.
- 서버에서 클라이언트를 구분하기 위해 세션 ID를 부여하며, 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지한다.
- 접속 시간에 제한을 두어 일정 시간 응답이 없다면 정보가 유지되지 않게 설정 가능하다.
- 데이터를 서버에 두기 때문에 쿠키보다 보안에 좋지만, 사용자가 많아질수록 서버 메모리를 많이 차지하게 된다.

#### 웹 스토리지

쿠키 단점 보완 > 웹 스토리지
웹 스토리지에는 로컬 스토리지와 세션 스토리지가 있다.
웹 스토리지는 key value로 이루어짐
웹 스토리지는 클라이언트에 정보를 저장
웹 스토리지는 로컬, 쿠키는 서버와 로컬에 저장

쿠키 장/단점
1. 대부분 브라우저가 지원

1. 매 http 요청에 포함되어 있어 api 호출로 서버에 부담
2. 용량 작음 (4kb)
3. 보안에 취약

웹 스토리지 장/단점
1. 서버에 불필요한 영향 x
2. 용량이 크다(5mb)


쓰임새
자동 로그인 > 로컬
입력 폼 정보 > 세션
비로그인 장바구니 > 세션
다시 보지 않음 > 쿠키


### useMemo vs useCallback

#### useMemo

#### useCallback

### NVM

#### NVM이란?

#### NVM 설치

### 참고

[쿠키 vs 세션 vs 웹 스토리지](https://ykss.netlify.app/web/storage_session_cookie/)
